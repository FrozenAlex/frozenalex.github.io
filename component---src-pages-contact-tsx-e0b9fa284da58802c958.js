/*! For license information please see component---src-pages-contact-tsx-e0b9fa284da58802c958.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0Aie":function(e,t,a){"use strict";a.r(t);var s=a("q1tI"),n=a("N5vR"),r=a("H8eV"),i=a("ma3e");var o=({isLoading:e,message:t,children:a})=>s.createElement("div",{className:"loading-overlay bg-background text-primary",style:e?{}:{display:"none"}},s.createElement(i.e,{className:"loading-spinner",size:35}),s.createElement("div",{className:"loading-message"},t||""),a),l=a("n57c"),m=a("qGaf");class p extends s.Component{constructor(e){super(e),this.state={form:{username:"",message:"",name:"",loading:!1,loadingMessage:"",result:""}}}render(){let{data:e,location:t}=this.props;const a=e.site.siteMetadata.title;return s.createElement(n.a,{location:t,title:a},s.createElement(r.a,{title:"Contact"}),s.createElement("h1",{className:"page-title"},"Contact form"),s.createElement("div",{className:"mx-auto container  bg-teal-400 result m-4 font-bold text-xl text-center",style:{margin:"1em auto 2em auto",textAlign:"center"}},this.state.form.result||""),s.createElement("form",{action:"https://frozen-feedback.herokuapp.com",method:"POST",className:"max-w-md mx-auto",encType:"multipart/form-data",onSubmit:this.handleSubmit.bind(this)},s.createElement("div",{className:"mb-4"},s.createElement("input",{name:"name",className:"hidden",onChange:this.handleChange.bind(this)}),s.createElement(m.a,{type:"text",value:this.state.form.username,label:"Name or Email",onChange:this.handleChange.bind(this),name:"username"})),s.createElement("div",{className:"mb-4"},s.createElement(m.a,{label:"Message",onChange:this.handleChange.bind(this),value:this.state.form.message,name:"message",rows:5,type:"textarea",maxLength:3896,required:!0})),s.createElement("div",{className:"mb-4"},s.createElement("label",{className:"block text-gray-700 text-md text-center font-bold mb-2",htmlFor:"file"},"File"),s.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"file",type:"file",placeholder:"File",name:"file",multiple:!0})),s.createElement("div",{className:"mb-4 text-center"},s.createElement(l.a,{type:"submit",size:"lg",label:"submit"}))),s.createElement(o,{isLoading:this.state.form.loading,message:this.state.form.loadingMessage}))}handleChange(e){this.setState({form:{...this.state.form,[e.target.name]:e.target.value}})}validate(){return""!=this.state.form.message&&""!=this.state.form.username}async handleSubmit(e){if(e.preventDefault(),!this.validate())return void alert("Invalid input. Check your name and message!");let t=new FormData;t.append("name",this.state.form.name),t.append("username",this.state.form.username),t.append("message",this.state.form.message);let a=document.getElementById("file").files;for(let s=0;s<a.length;s++)t.append("file",a[s]);try{this.setState({form:{...this.state.form,loadingMessage:"Trying to send a message, please wait...",loading:!0}});let e=await fetch("https://frozen-feedback.herokuapp.com/api",{method:"POST",body:t}),a=await e.text();200===e.status?this.setState({form:{...this.state.form,result:a,loading:!1}}):this.setState({form:{...this.state.form,result:"Something went wrong, contact me on social media instead...",loading:!1}})}catch(e){this.setState({form:{...this.state.form,result:"Something went wrong, contact me on social media instead...",loading:!1}})}}}t.default=p},"1iZa":function(e,t,a){e.exports={button:"Button-module--button--R8ZjR",loadingSpinner:"Button-module--loading-spinner--2dfIu",spin:"Button-module--spin--cwrld",primary:"Button-module--primary--2SH7R",secondary:"Button-module--secondary--2rBXP",big:"Button-module--big--2k2PA",info:"Button-module--info--36S9R"}},T89f:function(e,t,a){e.exports={input:"FormInput-module--input--1nDLR",inputWrapper:"FormInput-module--input-wrapper--1AilU"}},TSYQ:function(e,t,a){var s;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var r=typeof s;if("string"===r||"number"===r)e.push(s);else if(Array.isArray(s)&&s.length){var i=n.apply(null,s);i&&e.push(i)}else if("object"===r)for(var o in s)a.call(s,o)&&s[o]&&e.push(o)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(s=function(){return n}.apply(t,[]))||(e.exports=s)}()},n57c:function(e,t,a){"use strict";var s=a("1iZa"),n=a.n(s),r=a("TSYQ"),i=a.n(r),o=a("q1tI"),l=a("Wbzz"),m=a("ma3e");class p extends o.Component{render(){let e=[n.a.button];if(this.props.size)switch(this.props.size){case"sm":e.push(n.a.small);break;case"lg":e.push(n.a.big)}if(this.props.variant)switch(this.props.variant){case"danger":e.push(n.a.danger);break;case"info":e.push(n.a.info);break;case"primary":e.push(n.a.primary);break;case"secondary":e.push(n.a.secondary)}console.log(i()(e));let t=this.props.loading?o.createElement(m.e,{className:n.a.loadingSpinner}):this.props.children,a="submit"==this.props.type?o.createElement("input",{type:"submit",disabled:this.props.disabled,onClick:this.props.onClick,className:n.a.button,value:this.props.label}):o.createElement("button",{disabled:this.props.disabled,onClick:this.props.onClick,className:i()(e)},t);return this.props.to?a=o.createElement(l.Link,{to:this.props.to},a):this.props.href&&(a=o.createElement("a",{href:this.props.href},a)),a}}p.defaultProps={className:"",label:"",size:"",variant:"basic",disabled:!1,disabledClassName:""},t.a=p},qGaf:function(e,t,a){"use strict";var s=a("T89f"),n=a.n(s),r=a("q1tI"),i=a("TSYQ"),o=a.n(i);class l extends r.Component{render(){let e,t=r.createElement("label",{htmlFor:this.props.name},this.props.label);return e="textarea"===this.props.type?r.createElement("textarea",{className:n.a.input,onChange:this.props.onChange,onClick:this.props.onClick,name:this.props.name,placeholder:this.props.placeholder,rows:this.props.rows,required:this.props.required,maxLength:this.props.maxLength,value:this.props.value}):r.createElement("input",{className:n.a.input,type:this.props.type,onChange:this.props.onChange,onClick:this.props.onClick,name:this.props.name,placeholder:this.props.placeholder,required:this.props.required,maxLength:this.props.maxLength,value:this.props.value}),e=r.createElement("div",{className:o()(n.a.inputWrapper,this.props.className)},t,e),e}}t.a=l}}]);
//# sourceMappingURL=component---src-pages-contact-tsx-e0b9fa284da58802c958.js.map